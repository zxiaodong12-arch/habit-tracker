# 极简习惯追踪器

一个专注于"打卡"和"看到进步"的极简习惯追踪器 Web 应用。

## 核心功能

1. **习惯列表 + 今日打卡**  
   - 核心首页，一键打卡，实时显示连续天数  
   - 支持为每个习惯设置名称 / Emoji / 主题颜色
2. **网格热力图可视化**  
   - 首页显示最近 8 周预览  
   - 详情页显示最近 30 天的日历式热力图
3. **添加 / 编辑习惯**  
   - 添加新习惯：名称 + Emoji + 颜色  
   - 在详情页点击「编辑信息」，可修改名称 / Emoji / 颜色
4. **习惯详情页**  
   - 当前连续天数  
   - 最长连续天数  
   - 总完成率（从首次打卡到今天）  
   - 最近 30 天可视化打卡记录
5. **习惯管理**  
   - 支持归档、恢复和删除习惯  
   - 归档后从主列表隐藏，但数据保留，可在「已归档的习惯」区域查看
6. **统计概览**  
   - 今日完成数（已完成 / 总数，仅统计未归档习惯）  
   - 总完成率（今日完成率：今天完成习惯数 / 未归档习惯总数）  
   - 最长连续天数（未归档习惯中的最大值）
7. **数据存储**  
   - 云端数据库存储（MySQL）  
   - 用户认证，数据安全隔离

## 使用方法

### 快速开始

### 前端（Vue 3）

1. 进入前端目录：
   ```bash
   cd vue-frontend
   ```

2. 安装依赖：
   ```bash
   npm install
   ```

3. 启动开发服务器：
   ```bash
   npm run dev
   ```

4. 访问 `http://localhost:3000`

5. 首次使用需要注册账号并登录

6. 登录后点击右下角 ➕ 按钮添加你的第一个习惯

### 后端（PHP + ThinkPHP）

1. 确保后端 API 服务已启动（参考 `api/README.md`）
2. 配置数据库连接（`api/config/database.php`）
3. 导入数据库结构（`database.sql`）

### 部署到腾讯云

详细的部署指南请参考：[`DEPLOY-TENCENT-CLOUD.md`](./DEPLOY-TENCENT-CLOUD.md)

快速部署步骤：
1. 使用部署脚本构建前端：`./deploy.sh prod https://api.yourdomain.com/api`
2. 按照部署指南配置服务器环境
3. 上传代码并配置 Nginx
4. 使用部署检查清单验证：参考 [`DEPLOY-CHECKLIST.md`](./DEPLOY-CHECKLIST.md)

### 日常使用

- **打卡**：点击习惯卡片右侧的复选框，完成今日打卡  
- **查看详情**：点击习惯卡片（非复选框区域）查看详细统计和最近 30 天日历热力图  
- **编辑习惯**：在详情页点击「编辑信息」，可以修改习惯名 / Emoji / 颜色  
- **归档习惯**：在详情页点击「归档习惯」，习惯会从主列表移动到「已归档的习惯」区域  
- **查看归档**：在首页中部的「已归档的习惯」区域，点击右侧「展开 / 收起」按钮查看或隐藏归档列表

### 移动端使用

- 支持响应式设计，在手机浏览器中完美运行
- 支持 PWA，可添加到主屏幕，像原生应用一样使用

## 特性

- ✅ **前后端分离** - 前端 + PHP API + MySQL 数据库
- ✅ **用户认证** - 注册登录，数据安全隔离
- ✅ **云端存储** - 数据存储在 MySQL 数据库，安全可靠
- ✅ **响应式设计** - 完美适配桌面端和移动端
- ✅ **PWA 支持** - 可添加到主屏幕，像原生应用一样使用
- ✅ **极简设计** - 专注核心功能，无多余干扰
- ✅ **实时统计** - 自动计算连续天数、完成率等数据
- ✅ **可视化反馈** - 热力图直观展示坚持情况

## 技术栈

### 前端
- **Vue 3** - 渐进式 JavaScript 框架
- **Vite** - 下一代前端构建工具
- **Vue Router** - 官方路由管理器
- **Pinia** - Vue 的状态管理库
- **Axios** - HTTP 客户端
- **响应式 CSS** - 移动优先设计

### 后端
- **PHP + ThinkPHP 6.x** - RESTful API
- **MySQL** - 数据存储
- **Nginx** - Web 服务器

## 文件结构

```
habit-tracker/
├── index.html      # 主页面
├── app.js          # 核心逻辑
├── styles.css      # 样式文件
├── manifest.json   # PWA 配置
└── README.md       # 说明文档
```

## 数据格式

导出的 JSON 文件格式：

```json
{
  "habits": [
    {
      "id": "1234567890",
      "name": "喝够2L水",
      "emoji": "💧",
      "color": "#10b981",
      "records": {
        "2024-01-01": true,
        "2024-01-02": true,
        "2024-01-03": true
      },
      "archived": false,
      "createdAt": "2024-01-01T00:00:00.000Z"
    }
  ],
  "exportDate": "2024-01-15T00:00:00.000Z",
  "version": "1.0"
}
```

### 数据字段说明

- `id`: 习惯唯一标识符（时间戳）
- `name`: 习惯名称
- `emoji`: 习惯图标（1-2 个字符）
- `color`: 习惯主题色（十六进制颜色值）
- `records`: 打卡记录对象，键为日期（YYYY-MM-DD），值为 `true` 表示已完成
- `archived`: 是否已归档（归档后不在首页显示）
- `createdAt`: 创建时间（ISO 8601 格式）

### 数据备份建议

- 定期使用「导出」功能备份数据
- 建议每月备份一次，避免数据丢失
- 可以将 JSON 文件保存到云盘或本地

## 极简原则

本应用遵循极简原则，**不包含**以下功能：

- ❌ 复杂的提醒推送
- ❌ 社交分享、排行榜
- ❌ 积分、奖励系统
- ❌ 日记、心情记录
- ❌ 目标数值、计时器
- ❌ 复杂主题自定义

## 使用技巧

1. **连续天数计算**：系统会自动计算连续打卡天数，如果某天忘记打卡，连续天数会重置
2. **热力图颜色**：热力图中颜色越深，表示该天已完成打卡
3. **归档功能**：对于暂时不想追踪的习惯，可以使用「归档」功能，归档后的习惯不会在首页显示，但数据会保留
4. **数据迁移**：更换设备时，使用导出/导入功能即可迁移所有数据
5. **移动端优化**：建议在手机浏览器中将应用添加到主屏幕，方便日常打卡

## 常见问题

**Q: 数据会丢失吗？**  
A: 数据存储在浏览器本地，清除浏览器数据会丢失。建议定期使用导出功能备份。

**Q: 可以同时追踪多个习惯吗？**  
A: 可以，没有数量限制。

**Q: 连续天数如何计算？**  
A: 从最近一次打卡开始，连续每天都有打卡记录的天数。如果中间断了一天，连续天数会重置。

**Q: 支持提醒功能吗？**  
A: 不支持。本应用遵循极简原则，专注于打卡和可视化，不包含提醒功能。

**Q: 可以在不同设备间同步吗？**  
A: 目前不支持自动同步。可以使用导出/导入功能手动同步数据。

## 浏览器支持

支持所有现代浏览器：
- ✅ Chrome（推荐）
- ✅ Firefox
- ✅ Safari
- ✅ Edge
- ✅ 移动端浏览器（iOS Safari、Chrome Mobile 等）

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！
