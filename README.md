# 极简习惯追踪器

一个前后端分离的习惯打卡应用，专注「简单记录」「看到进步」。

当前版本已经完成：
- 多目标类型：**每天 / 每周 / 每月 / 每年** 目标
- 习惯详情：总天数、完成率、当前连续、历史最长连续
- 目标进度：本日/周/月/年目标进度条 + 剩余天数提示
- 视图切换：最近 30 天打卡日历 + 周 / 月 / 年趋势图
- 首页统计：今日完成、总完成率、🔥 历史最长连续天数（含对应习惯名）
- 习惯卡片：当前连续天数 + 🔥 历史最长连续天数 + 最近 30 天迷你热力图
- 习惯管理：新增、编辑、打卡、归档/恢复

---

## 1. 项目结构

```text
habit-tracker/
├── api/                 # PHP + ThinkPHP 6 后端 API
├── vue-frontend/        # Vue 3 + Vite 前端
├── database.sql         # 初始数据库结构
├── database_migration_v2.sql  # v2 版本字段/索引调整
├── add_test_records.sql # 可选：本地开发用的测试数据
└── README.md            # 本文档
```

前端、后端各自还有一份更详细的 `README.md`：
- 前端说明：`vue-frontend/README.md`
- 后端说明：`api/README.md`

---

## 2. 本地开发环境

### 2.1 后端（API）

1. 安装依赖

```bash
cd api
composer install
cp .env.example .env
```

2. 配置数据库  
在 `.env` 中配置 MySQL 连接，然后导入数据库结构：

```bash
mysql -u root -p < ../database.sql
mysql -u root -p < ../database_migration_v2.sql   # 如需 v2 字段
```

3. 启动服务（示例：PHP 内置服务器）

```bash
cd api
php -S 0.0.0.0:8080 -t public
```

默认 API 地址类似：`http://localhost:8080/api`（具体以 `public/index.php` 路由为准）。

### 2.2 前端（Vue 3）

1. 安装依赖

```bash
cd vue-frontend
npm install
```

2. 配置 API 地址  
如需修改，编辑 `src/services/api.js` 中的 `baseURL`。

3. 启动开发服务器

```bash
npm run dev
```

默认访问：`http://localhost:3000`

首屏登录页支持注册/登录，登录后进入首页即可开始打卡。

---

## 3. 使用说明（功能总览）

- **首页**
  - 今日完成：已完成 / 未归档习惯总数
  - 总完成率：今天完成的习惯数 / 未归档习惯总数
  - 🔥 历史最长连续天数：所有习惯中，历史最长连续天数最大的那个习惯及其天数

- **习惯卡片**
  - 当前连续 `X 天`
  - 🔥 历史最长 `Y 天`
  - 最近 30 天小型热力图
  - 勾选按钮：切换今日完成状态

- **详情页**
  - 头部：返回、编辑习惯、名称 / Emoji / 主题色
  - 统计卡片：
    - 总天数：从最早有记录那天到今天的天数
    - 完成率：已完成记录数 / 总天数 × 100
    - 当前连续 / 历史最长连续
  - 目标进度：
    - 每日/每周/每月/每年目标
    - 已完成 / 目标次数 + 剩余天数 / 已超出次数提示
  - 最近打卡日历：
    - 每日型：最近 30 天
    - 周/月/年型：最近 12 周 / 12 个月 / 5 年
    - 「习惯开始前」的日期会显示为灰色
  - 打卡记录：
    - 按月分页展示：已完成（绿色）、未完成（黄色）、未来/开始前（灰色）

---

## 4. 技术栈概览

- 前端：Vue 3、Vite、Vue Router、Pinia、Axios、响应式 CSS
- 后端：PHP 8 + ThinkPHP 6、MySQL、Nginx / PHP-FPM

---

## 5. 其他

- 前端构建产物默认输出到项目根目录的 `dist/`（静态托管时可直接部署该目录内容）。
- 本项目遵循极简原则，不内置推送、排行榜等复杂功能，专注于高质量的打卡体验和数据可视化。

如需了解更细的 API、路由或组件结构，请查看对应目录下的 `README.md` 或源码注释。
