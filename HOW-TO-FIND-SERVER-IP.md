# 如何查看腾讯云服务器 IP 地址

## 方法一：腾讯云控制台查看（推荐）

### 步骤：

1. **登录腾讯云控制台**
   - 访问：https://console.cloud.tencent.com/
   - 使用你的账号登录

2. **进入云服务器 CVM 控制台**
   - 在顶部导航栏找到「云产品」
   - 点击「云服务器 CVM」
   - 或直接访问：https://console.cloud.tencent.com/cvm

3. **查看服务器列表**
   - 在「实例」页面，可以看到所有云服务器
   - 找到你的服务器，在列表中可以看到：
     - **公网 IP**：用于从外网访问
     - **内网 IP**：用于服务器之间通信

4. **复制 IP 地址**
   - 点击「公网 IP」列的 IP 地址即可复制
   - 或点击服务器名称进入详情页查看

### 重要说明：

- **公网 IP**：用于从互联网访问服务器（前端调用 API 时使用这个）
- **内网 IP**：仅用于同一地域内的服务器之间通信
- **弹性公网 IP**：如果绑定了弹性 IP，使用弹性 IP 地址

---

## 方法二：在服务器上使用命令查看

### 通过 SSH 连接到服务器后执行：

#### Linux 系统（CentOS/Ubuntu）：

```bash
# 方法 1: 查看公网 IP（推荐）
curl ifconfig.me
# 或
curl ip.sb
# 或
curl ipinfo.io/ip

# 方法 2: 查看所有网络接口
ip addr show
# 或
ifconfig

# 方法 3: 查看公网 IP（使用腾讯云元数据）
curl http://metadata.tencentyun.com/latest/meta-data/public-ipv4
```

#### 查看内网 IP：

```bash
# 查看内网 IP
hostname -I
# 或
ip addr show | grep "inet " | grep -v 127.0.0.1
```

---

## 方法三：从 SSH 连接信息查看

如果你已经通过 SSH 连接到服务器，连接命令中通常包含 IP：

```bash
ssh root@你的服务器IP
```

如果你使用的是 SSH 客户端（如 PuTTY、Terminal），连接信息中会显示服务器 IP。

---

## 方法四：查看服务器详情页

1. 在腾讯云控制台的服务器列表中，点击服务器名称
2. 进入「实例详情」页面
3. 在「网络信息」部分可以看到：
   - **公网 IP**
   - **内网 IP**
   - **弹性公网 IP**（如果已绑定）

---

## 常见问题

### Q: 公网 IP 和内网 IP 有什么区别？

**A:**
- **公网 IP**：可以从互联网访问，前端调用 API 时使用这个
- **内网 IP**：只能在腾讯云内网中使用，用于服务器之间通信

**对于部署 API：使用公网 IP**

### Q: 我的服务器没有公网 IP？

**A:** 可能的原因：
1. 服务器没有分配公网 IP（需要购买或绑定）
2. 使用了弹性公网 IP，需要查看弹性 IP 列表

**解决方法：**
- 在服务器详情页「网络信息」中查看
- 或购买/绑定弹性公网 IP

### Q: IP 地址会变化吗？

**A:**
- **普通公网 IP**：服务器重启可能会变化
- **弹性公网 IP**：固定不变，推荐使用

### Q: 如何绑定弹性公网 IP？

**A:**
1. 在腾讯云控制台 → 弹性公网 IP
2. 申请弹性公网 IP
3. 绑定到你的云服务器

---

## 快速查看命令（在服务器上执行）

```bash
# 一键查看公网 IP
echo "公网 IP: $(curl -s ifconfig.me)"

# 查看内网 IP
echo "内网 IP: $(hostname -I | awk '{print $1}')"
```

---

## 使用示例

假设你查到的公网 IP 是 `123.456.789.0`，Nginx 监听 `8080` 端口：

那么 API 地址就是：
```
http://123.456.789.0:8080/api
```

部署命令：
```bash
./deploy.sh prod http://123.456.789.0:8080/api
```

---

## 📝 总结

**最简单的方法：**
1. 登录腾讯云控制台
2. 进入「云服务器 CVM」
3. 在服务器列表中查看「公网 IP」列
4. 复制 IP 地址

**或者在服务器上执行：**
```bash
curl ifconfig.me
```

即可快速查看公网 IP！
